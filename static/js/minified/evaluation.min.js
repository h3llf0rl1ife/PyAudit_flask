$(function(){$("select").material_select();selectChangeHandler()});function getData(a,b){$.getJSON("/evaluation/api",{value:a,field:b},function(a){removeOptions(b);for(var c=0,d=a.result.length;c<d;c++){var e=a.result[c][b+"Name"];if("Category"===b||"LocationType"===b)e=a.result[c].Description;$("#i-"+b).append($("<option></option>").attr("value",a.result[c][b+"ID"]).text(e))}})}function removeOptions(a){$("#i-"+a)[0].selectedIndex=0;$("#i-"+a).children("option:not(:first)").remove()}
function selectChangeHandler(){var a=["Zone","Unit","LocationType","Location"],b=a.slice(1,a.length),d=a.slice(2,a.length),c=a.slice(3,a.length);a=[[$("#i-Site"),a],[$("#i-Zone"),b],[$("#i-Unit"),d],[$("#i-LocationType"),c],[$("#i-Criteria"),["Category"]]];b={};d=0;for(c=a.length;d<c;b={inputArray:b.inputArray},d++){var f=a[d][0],e=a[d][1];b.inputArray=e.slice(0,e.length);f.on("change",function(a){return function(){for(var b=0,c=a.inputArray.length;b<c;b++)removeOptions(a.inputArray[b]);b=$(this).val();
"Location"==a.inputArray[0]&&(b=$("#i-Unit"),b={LocationTypeID:$(this).val(),UnitID:b.val()},b=JSON.stringify(b));getData(b,a.inputArray[0])}}(b))}};